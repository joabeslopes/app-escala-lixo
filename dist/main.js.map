{"version":3,"file":"main.js","mappings":"mBAAA,MAAMA,EAAiB,SAASC,GAE5B,MAAMC,EAAiBC,EAAE,UAAW,CAACC,KAAM,OAAQC,KAAM,OAAQC,MAAO,QAASC,YAAY,SACvFC,EAAgBL,EAAE,SAAU,CAACG,MAAO,WAAWG,KAAK,KACpDC,EAAsBP,EAAE,WAAY,CAACG,MAAM,QAASD,KAAK,eACzDM,EAAeR,EAAE,QAAS,CAACG,MAAO,cAElCM,EAAeT,EAAE,QAAS,CAACE,KAAM,cAEvCF,EAAEK,GAAeK,MAAOC,GAExBX,EAAEO,GAAqBK,KAAK,wBAE5BZ,EAAES,GAAcI,OAAOd,GACvBC,EAAES,GAAcI,OAAOR,GACvBL,EAAES,GAAcI,OAAOL,EAAaM,SACpCd,EAAES,GAAcI,OAAON,GACvBP,EAAES,GAAcI,OAAOL,EAAaM,SAEpCd,EAAEF,EAAIiB,KAAKC,iBAAiBH,OAAOJ,EAEvC,EAEME,EAAoB,SAASb,GAC/BE,EAAEiB,MAAMC,SAASC,QACrB,ECzBMC,EAAY,IAAIC,KCIhBC,EAAW,SAASC,GAEtB,MAAMC,EFqBc,WAEpB,IAAIA,EAAe,GAuBnB,OArBAxB,EEzBqC,iBFyBlByB,WAAWC,MAAM,WAEhC,IAAIC,EAAO3B,EAAEiB,MAAMQ,SAAS,sBAAsBG,MAClDD,EAAOA,EAAKE,OACZ,IAAIC,EAAa9B,EAAEiB,MAAMQ,SAAS,6BAA6BG,MAE/D,GAAmB,GAAfD,EAAKI,QAAoC,GAArBD,EAAWC,OAU/B,OADAP,EAAe,IACR,EAVoC,CAC3C,MAAMQ,EAAS,CACXL,KAAMA,EACNG,WAAYA,GAGhBN,EAAaS,KAAKD,EACtB,CAMJ,IAEOR,CAEX,CEhDyBU,GAErB,GAA2B,GAAvBV,EAAaO,OAEb,OADAI,MAAM,kCACC,EAKX,MAAMC,EAAgB,CAAEC,aAAcb,EACdc,QDFjBtC,ECDsB,iBDCXyB,SAAS,SAASG,OCK9BW,EAAUC,KAAKC,UAAUL,GAE/BpC,EAAE0C,KAAM,CACIzC,KAAM,OACN0C,IAAK,mBACL5B,KAAMwB,EACNK,YAAa,mBACbC,QAASC,EACTC,MAAO,WAAYZ,MAAM,cAAgB,GAGzD,EAGMW,EAAa,SAASE,GAExBhD,EAAE,cAAcmB,SAEhB,MAAM8B,EAASD,EAAiB,OAC1BE,EAAYlD,EAAE,MAAO,CAACG,MAAO,WACnC,IAAIgD,EAAe,GACnB,MAAMC,EAASpD,EAAE,QAAS,CAACG,MAAO,mBAAoBkD,GAAG,cAEzDJ,EAAOK,SAAUC,IACbA,EAAOD,SAAUE,IACb,IAAIC,EAASC,OAAOC,KAAKH,GAAK,GAC9BL,GAAgBM,EAAS,MAAQD,EAAIC,GAAU,MAAM,IAEzDN,GAAgB,MAAM,IAG1BnD,EAAEkD,GAAWU,KAAKT,GAClBnD,EAAEoD,GAAQQ,KAAKV,GAEflD,EAAE,QAAQa,OAAOuC,EAIrB,EAGMS,EAAa,WAEfhE,EAAgB,CAAEkB,KAAM,CAACC,gBAAiB,mBD5DzB,WAEjB,MAAM8C,EAAkB1C,EAAU2C,cAAcC,MAAM,KAAK,GAErDC,EAAUjE,EAAE,UAAW,CAACC,KAAM,OAAQE,MAAO,QAAS+D,IAAKJ,EAAiBK,MAAOL,IAEzF9D,ECuDa,iBDvDFa,OAAOoD,EAEtB,CCqDIG,GAEApE,EAAE,cAAcU,MAAM,CAACM,gBAAiB,iBAAkBnB,GAE1DG,EAAE,WAAWU,MAAOY,EAExB,EClEAtB,EAAE,QAAQqE,OAAO,WAEbrE,EAAE,QAAQY,KAAK,kBAAmBiD,EACtC,G","sources":["webpack://python-fastapi/./src/js/pessoas.js","webpack://python-fastapi/./src/js/date.js","webpack://python-fastapi/./src/js/form.js","webpack://python-fastapi/./src/index.js"],"sourcesContent":["const addInputPessoa = function(evt){\n\n    const newInputPessoa = $(\"<input>\", {type: \"text\", name: \"nome\", class: \"input\", placeholder:\"Nome\"});\n    const newPessoaSpan = $(\"<span>\", {class: \"remove\"}).text(\"X\");\n    const newPessoaHomeOffice = $(\"<select>\", {class:\"input\", name:\"homeOffice\"});\n    const newSeparator = $(\"<div>\", {class: \"separator\"});\n\n    const newPessoaDiv = $(\"<div>\", {name: \"pessoaDiv\"});\n\n    $(newPessoaSpan).click( removeInputPessoa );\n\n    $(newPessoaHomeOffice).load('/html/dias-home.html');\n\n    $(newPessoaDiv).append(newInputPessoa);\n    $(newPessoaDiv).append(newPessoaSpan);\n    $(newPessoaDiv).append(newSeparator.clone());\n    $(newPessoaDiv).append(newPessoaHomeOffice);\n    $(newPessoaDiv).append(newSeparator.clone());\n\n    $(evt.data.tagListaPessoas).append(newPessoaDiv);\n\n};\n\nconst removeInputPessoa = function(evt){\n    $(this).parent().remove();\n};\n\nconst getListaPessoas = function (tagListaPessoas){\n\n    let listapessoas = [];\n    \n    $(tagListaPessoas).children().each( function(){\n\n        let nome = $(this).children('input[name=\"nome\"]').val();\n        nome = nome.trim();\n        let homeOffice = $(this).children('select[name=\"homeOffice\"]').val();\n\n        if (nome.length != 0 && homeOffice.length != 0){\n            const pessoa = {\n                nome: nome,\n                homeOffice: homeOffice,\n            };\n\n            listapessoas.push(pessoa);\n        } \n        else {\n            listapessoas = [];\n            return false;\n        };\n\n    });\n\n    return listapessoas;\n\n};\n\nexport { addInputPessoa, getListaPessoas };","const dataAtual = new Date();\n\nconst addInputDate = function(tagDate){\n\n    const stringDataAtual = dataAtual.toISOString().split('T')[0];\n\n    const divDate = $(\"<input>\", {type: \"date\", class: \"input\", min: stringDataAtual, value: stringDataAtual});\n\n    $(tagDate).append(divDate);\n\n};\n\nconst getInputDate = function(tagDate){\n\n    return $(tagDate).children('input').val();\n\n};\n\nexport { getInputDate, addInputDate };","import { addInputPessoa, getListaPessoas } from \"./pessoas\";\nimport { getInputDate, addInputDate } from \"./date\";\n\n\nconst sendForm = function(event){\n\n    const listapessoas = getListaPessoas(\"#listaPessoas\");\n\n    if (listapessoas.length == 0){\n        alert(\"Preencher informação completa\");\n        return false;\n    }\n\n    const ISODate = getInputDate(\"#dateSelector\");\n\n    const requestObject = { listaPessoas: listapessoas,\n                            ISODate: ISODate\n                        };\n\n    const request = JSON.stringify(requestObject);\n\n    $.ajax( {\n                type: \"POST\",\n                url: '/api/gerarEscala',\n                data: request,\n                contentType: \"application/json\",\n                success: showEscala,\n                error: function(){ alert(\"erro na api\"); }\n            }\n        );\n};\n\n\nconst showEscala = function(response){\n\n    $(\"#escalaMes\").remove();\n\n    const escala = response[\"escala\"];\n    const listaDias = $(\"<p>\", {class: \"output\"});\n    let escalaString = \"\";\n    const output = $(\"<div>\", {class: \"output-container\", id:\"escalaMes\"});\n\n    escala.forEach( (semana) => {\n        semana.forEach( (dia) => {\n            let diaKey = Object.keys(dia)[0];\n            escalaString += diaKey + \" - \" + dia[diaKey] + \"<br>\";\n        });\n        escalaString += \"<br>\";\n    });\n\n    $(listaDias).html(escalaString);\n    $(output).html(listaDias);\n    \n    $(\"#app\").append(output);\n\n    // $(\"#meuform\")[0].reset();\n\n};\n\n\nconst onFormLoad = function(){\n\n    addInputPessoa( { data: {tagListaPessoas: \"#listaPessoas\"} } );\n    addInputDate(\"#dateSelector\");\n\n    $(\"#addPessoa\").click({tagListaPessoas: \"#listaPessoas\"}, addInputPessoa );\n\n    $(\"#enviar\").click( sendForm );\n\n};\n\nexport { onFormLoad };","import { onFormLoad } from \"./js/form\";\n\n\n$(\"#app\").ready( function() {\n\n    $(\"#app\").load('/html/form.html', onFormLoad);\n});"],"names":["addInputPessoa","evt","newInputPessoa","$","type","name","class","placeholder","newPessoaSpan","text","newPessoaHomeOffice","newSeparator","newPessoaDiv","click","removeInputPessoa","load","append","clone","data","tagListaPessoas","this","parent","remove","dataAtual","Date","sendForm","event","listapessoas","children","each","nome","val","trim","homeOffice","length","pessoa","push","getListaPessoas","alert","requestObject","listaPessoas","ISODate","request","JSON","stringify","ajax","url","contentType","success","showEscala","error","response","escala","listaDias","escalaString","output","id","forEach","semana","dia","diaKey","Object","keys","html","onFormLoad","stringDataAtual","toISOString","split","divDate","min","value","addInputDate","ready"],"sourceRoot":""}