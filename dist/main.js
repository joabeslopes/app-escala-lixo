(()=>{"use strict";function e(e,t){const n=document.createElement(e);for(let e in t)n.setAttribute(e,t[e]);return n}function t(t){const o=e("input",{type:"text",name:"nome",class:"input",placeholder:"Nome"}),c=e("span",{class:"remove"});c.innerText="X";const a=e("select",{class:"input",name:"homeOffice"}),l=e("div",{class:"separator"}),s=e("div",{name:"pessoaDiv"});var i;c.onclick=n,i=a,fetch("/html/dias-home.html").then((e=>e.text())).then((e=>{i.innerHTML=e})),s.appendChild(o),s.appendChild(c),s.appendChild(a),s.appendChild(l),document.getElementById(t).appendChild(s)}function n(e){e.srcElement.parentNode.remove()}const o=new Date;function c(e){const t=function(){let e=[];const t=document.getElementById("listaPessoas").children;for(let n=0;n<t.length;n++){const o=t[n];let c=o.querySelector('input[name="nome"]').value;c=c.trim();let a=o.querySelector('select[name="homeOffice"]').value;if(0==c.length||0==a.length)return[];{const t={nome:c,homeOffice:a};e.push(t)}}return e}();if(0==t.length)return alert("Preencher informação completa"),!1;const n={listaPessoas:t,ISODate:document.querySelector("#dateSelector input").value},o=JSON.stringify(n);fetch("/api/gerarEscala",{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((e=>e.json())).then(a).catch((function(){alert("erro na api")}))}function a(t){const n=document.getElementById("escalaMes");n&&n.remove();const o=t.escala,c=e("p",{class:"output"}),a=e("br");let l="";const s=e("div",{class:"output-container",id:"escalaMes"});o.forEach((e=>{e.forEach((e=>{l=e.dia+" - "+e.nome;const t=c.cloneNode(!0);t.innerText=l,s.appendChild(t)})),s.appendChild(a.cloneNode(!0))})),document.getElementById("app").appendChild(s)}const l=document.getElementById("app"),s=document.createElement("div");fetch("/html/form.html").then((e=>e.text())).then((n=>{s.innerHTML=n,l.appendChild(s),t("listaPessoas"),function(){const t=o.toISOString().split("T")[0],n=e("input",{type:"date",class:"input",min:t,value:t});document.getElementById("dateSelector").appendChild(n)}(),document.getElementById("addPessoa").onclick=e=>{t("listaPessoas")},document.getElementById("enviar").onclick=c}))})();
//# sourceMappingURL=main.js.map